# План автоматизации тестирования веб-формы сервиса покупки туров.
# Задача:
Необходимо провести автоматизированное тестирование комплексного web-сервиса по покупке тура в "Марракэш".
Web-сервис предлагает купить тур по определённой цене с помощью двух способов:

* Обычная оплата по дебетовой карте
* Выдача кредита по данным банковской карты

Переход к способу "Обычная оплата по дебетовой карте" осуществляется после нажатия на кнопку "Купить".
Переход к способу "Выдача кредита по данным банковской карты" осуществляется после нажатия на кнопку "Купить в кредит".

**Примечание:** Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:

* сервису платежей (Payment Gate)
* кредитному сервису (Credit Gate)

#### Валидными данными при заполнении полей ввода следует считать:

1. Номер карты: цифровые символы, 16 шт.,в формате **** **** **** ****
1. Месяц: 01-12, но не ранее текущего месяца в случае, если указан текущий год
1. Год: последние две цифры порядкового номера года, не ранее текущего года
1. Владелец: буквенные символы латинского алфавита
1. CVC: цифровые символы, 3 шт.

#### Карты, представленные для тестирования (файл data.json):

* 4444 4444 4444 4441, status APPROVED
* 4444 4444 4444 4442, status DECLINED

##### Тестируемые Базы данных:

* MySql
* PostgreSQL

**Вид тестирования:** _функциональный_

### Перечень автоматизируемых сценариев:

#### Позитивные сценарии:
1. Пользователь вводит валидные данные, выбирая оплату по дебетовой карте, операция проходит без отказа
2. Пользователь вводит валидные данные, выбирая покупку с использованием кредита, операция проходит без отказа
3. Пользователь вводит валидные данные, выбирает оплату по дебетовой карте, на карте при этом недостаточно средств для выполнения операции - происходит отказ в операции
4. Пользователь вводит валидные данные, выбирая оплату по кредитной карте - происходит отказ в выполнении операции.

#### Негативные сценарии:
1. Пользователь выбирает покупку с оплатой по дебетовой карте, заполняет невалидными данными поля
2. Пользователь выбирает покупку с оплатой с помощью кредитной карты, заполняет невалидными данными поля

В рамках негативных сценариев проверяем, что:
* появляются подсказки о том, что поле неверно заполнено
* приложение не передает форму с невалидными данными в платежный сервис, соответственно, платеж не проходит
* отдельно проверим каждое поле, заполнив его данными в неверном формате
* 2 варианта неполного номера карты - 15 знаков и 1 знак
* неверный формат номера месяца
* неверный формат года
* ввод цифр в поле имя пользователя
* ввод пустого поля имя пользователя.

## Перечень используемых инструментов ##
- **Java 11** – один из самых популярных языков для веб-приложений. Востребован в сфере автоматизации тестирования.
- **IntelliJ IDEA Ultimate Edition** - удобная IDE для работы с Java и клиентом для взаимодействия с БД.
- **Gradle** –удобная для конфигурирования система автоматической сборки проекта.
- **Selenide** – фреймворк для автоматизированного тестирования веб-приложений.
- **JUnit Jupiter** – фреймворк, широко используемый для написания и запуска авто-тестов.
- **Git и Github** – проверенная система контроля версий.
- **Java Faker** - библиотека для генерации тестовых данных, в том числе по заданным шаблонам.
- **RestAssured** - удобный инструмент для автоматизации тестирования API.
- **Docker** - платформа для работы с тестируемым приложением, СУБД и симулятором банковских сервисов.
- **Allure** – простая в установке библиотека для формирования отчетности о прохождении автотестов.
  -**СУБД PostgreSQL** -  это свободная объектно-реляционная система управления базами данных, для проверки работоспособности системы.
- **СУБД MySQL** - это свободная реляционная система управления базами данных, для проверки работоспособности системы.

## Перечень необходимых разрешений/данных/доступов ##
- Разрешение на автоматизацию
- Тестовый режим.
- Доступ к базе данных

## Перечень и описание возможных рисков при автоматизации ##
- Отсутствие документации и ТЗ.
- Использование захардкоженных данных может привести к необнаружению ошибок при работе реального пользователя с сервисом.
- Cложность настройки окружения.
- Могут возникнуть сложности с поиском элементов на странице (неуникальные идентификаторы).
- Комплексный подход к тестированию. На занатиях мы тестировали, в основном, какие-то определенные функциональности, в данном случае нужно протестировать приложение комплексно, при этом в приложении много багов. Потребуется больше времени на дополнительные проверки и оформление баг-репортов.

## Интервальная оценка с учётом рисков (в часах) ##
Настройка ПО – 8 час
Написание кода автотестов - 60 час
Отладка автотестов - 26 час
Написание отчетов - 6 час
Всего: 100 час

## План сдачи работы ##
13.04 Готовность автотестов
16.04 Отчёт по результатам прогона тестов
19.04 Отчёт по автоматизации